{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from \"vue\";\nimport AlunoNavigation from \"@/components/aluno/AlunoNavigation.vue\";\nimport RoundedBox from \"@/components/base/RoundedBox.vue\";\nimport Accordion from \"@/components/UI/AccordionCore.vue\";\nimport TheAlert from \"@/components/base/TheAlert.vue\"; // Adicionado import\nimport axios from \"@/misc/axios.js\";\nimport constants from \"@/misc/constants.js\";\nexport default {\n  __name: 'AlunoDocumentos',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const completePreferences = ref(true);\n    const errorMessage = ref([]);\n\n    // 1. ADICIONAMOS O 'tipoId' A CADA ITEM\n    // Esses IDs vêm do seu backend (ModeloDocumentoController.js)\n    const documentosAcordeao = [{\n      title: \"Carta de Apresentação de Estágio\",\n      content: \"Envie aqui sua carta de apresentação.\",\n      tipoId: 1 // ID do modelo no banco\n    }, {\n      title: \"Confirmação de Orientação de Estágio\",\n      content: \"Envie aqui sua confirmação de orientação.\",\n      tipoId: 2 // ID do modelo no banco\n    }, {\n      title: \"Ficha de confirmação de estágio\",\n      content: \"Envie aqui sua ficha de confirmação.\",\n      tipoId: 3 // ID do modelo no banco\n    }, {\n      title: \"Plano de Atividades\",\n      content: \"Envie aqui seu plano de atividades.\",\n      tipoId: 4 // ID do modelo no banco\n    }, {\n      title: \"Autorização de Uso de Imagens\",\n      content: \"Envie aqui sua autorização de uso de imagens.\",\n      tipoId: 5 // ID do modelo no banco\n    }];\n    const handleError = error => {\n      if (error.response && error.response.data && error.response.data.error) {\n        errorMessage.value.push(error.response.data.error);\n      } else {\n        errorMessage.value.push(error.message);\n      }\n    };\n    const checkPreferences = async () => {\n      try {\n        const response = await axios.get(\"/aluno/preferencias\");\n        if (response && response.data) {\n          const {\n            nome,\n            email,\n            campus,\n            curso\n          } = response.data;\n          if (nome && nome.length > constants.MIN_LENGTH_NOME && email && campus && curso) {\n            completePreferences.value = true;\n            console.log(\"true\");\n          } else {\n            completePreferences.value = false;\n            console.log(\"false\");\n          }\n        }\n      } catch (error) {\n        handleError(error);\n      }\n    };\n    onMounted(() => {\n      checkPreferences();\n    });\n    const __returned__ = {\n      completePreferences,\n      errorMessage,\n      documentosAcordeao,\n      handleError,\n      checkPreferences,\n      ref,\n      onMounted,\n      AlunoNavigation,\n      RoundedBox,\n      Accordion,\n      TheAlert,\n      get axios() {\n        return axios;\n      },\n      get constants() {\n        return constants;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","AlunoNavigation","RoundedBox","Accordion","TheAlert","axios","constants","completePreferences","errorMessage","documentosAcordeao","title","content","tipoId","handleError","error","response","data","value","push","message","checkPreferences","get","nome","email","campus","curso","length","MIN_LENGTH_NOME","console","log"],"sources":["C:/Users/THIAGO/Documents/Estágios/sce-front/src/components/aluno/AlunoDocumentos.vue"],"sourcesContent":["<script setup>\r\n\timport { ref, onMounted } from \"vue\";\r\n\timport AlunoNavigation from \"@/components/aluno/AlunoNavigation.vue\";\r\n\timport RoundedBox from \"@/components/base/RoundedBox.vue\";\r\n\timport Accordion from \"@/components/UI/AccordionCore.vue\";\r\n\timport TheAlert from \"@/components/base/TheAlert.vue\"; // Adicionado import\r\n\timport axios from \"@/misc/axios.js\";\r\n\timport constants from \"@/misc/constants.js\";\r\n\r\n\tconst completePreferences = ref(true);\r\n\tconst errorMessage = ref([]);\r\n\t\r\n\t// 1. ADICIONAMOS O 'tipoId' A CADA ITEM\r\n\t// Esses IDs vêm do seu backend (ModeloDocumentoController.js)\r\n\tconst documentosAcordeao = [\r\n\t\t{ \r\n\t\t\ttitle: \"Carta de Apresentação de Estágio\", \r\n\t\t\tcontent: \"Envie aqui sua carta de apresentação.\",\r\n\t\t\ttipoId: 1 // ID do modelo no banco\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Confirmação de Orientação de Estágio\",\r\n\t\t\tcontent: \"Envie aqui sua confirmação de orientação.\",\r\n\t\t\ttipoId: 2 // ID do modelo no banco\r\n\t\t},\r\n\t\t{ \r\n\t\t\ttitle: \"Ficha de confirmação de estágio\", \r\n\t\t\tcontent: \"Envie aqui sua ficha de confirmação.\",\r\n\t\t\ttipoId: 3 // ID do modelo no banco\r\n\t\t},\r\n\t\t{ \r\n\t\t\ttitle: \"Plano de Atividades\", \r\n\t\t\tcontent: \"Envie aqui seu plano de atividades.\",\r\n\t\t\ttipoId: 4 // ID do modelo no banco\r\n\t\t},\r\n\t\t{ \r\n\t\t\ttitle: \"Autorização de Uso de Imagens\", \r\n\t\t\tcontent: \"Envie aqui sua autorização de uso de imagens.\",\r\n\t\t\ttipoId: 5 // ID do modelo no banco\r\n\t\t},\r\n\t];\r\n\r\n\tconst handleError = (error) => {\r\n\t\tif (\r\n\t\t\terror.response &&\r\n\t\t\terror.response.data &&\r\n\t\t\terror.response.data.error\r\n\t\t) {\r\n\t\t\terrorMessage.value.push(error.response.data.error);\r\n\t\t} else {\r\n\t\t\terrorMessage.value.push(error.message);\r\n\t\t}\r\n\t};\r\n\r\n\tconst checkPreferences = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\"/aluno/preferencias\");\r\n\r\n\t\t\tif (response && response.data) {\r\n\t\t\t\tconst { nome, email, campus, curso } = response.data;\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tnome &&\r\n\t\t\t\t\tnome.length > constants.MIN_LENGTH_NOME &&\r\n\t\t\t\t\temail &&\r\n\t\t\t\t\tcampus &&\r\n\t\t\t\t\tcurso\r\n\t\t\t\t) {\r\n\t\t\t\t\tcompletePreferences.value = true;\r\n\t\t\t\t\tconsole.log(\"true\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcompletePreferences.value = false;\r\n\t\t\t\t\tconsole.log(\"false\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tonMounted(() => {\r\n\t\tcheckPreferences();\r\n\t});\r\n</script>\r\n\r\n<template>\r\n\t<div>\r\n\t\t<AlunoNavigation />\r\n\r\n\t\t<div class=\"container\">\r\n\t\t\t<RoundedBox>\r\n\t\t\t\t<h3 class=\"text-center\">{{ $t(\"header.aluno.documentos\") }}</h3>\r\n\r\n\t\t\t\t<h5 class=\"text-center mt-5\">\r\n\t\t\t\t\t<span v-if=\"completePreferences\">\r\n\t\t\t\t\t\t<Accordion :items=\"documentosAcordeao\" />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span v-else>Incomplete</span>\r\n\t\t\t\t</h5>\r\n\t\t\t\t<TheAlert :messages=\"errorMessage\"></TheAlert>\r\n\t\t\t</RoundedBox>\r\n\t\t</div>\r\n\t</div>\r\n</template>"],"mappings":";AACC,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,eAAe,MAAM,wCAAwC;AACpE,OAAOC,UAAU,MAAM,kCAAkC;AACzD,OAAOC,SAAS,MAAM,mCAAmC;AACzD,OAAOC,QAAQ,MAAM,gCAAgC,CAAC,CAAC;AACvD,OAAOC,KAAK,MAAM,iBAAiB;AACnC,OAAOC,SAAS,MAAM,qBAAqB;;;;;;;IAE3C,MAAMC,mBAAmB,GAAGR,GAAG,CAAC,IAAI,CAAC;IACrC,MAAMS,YAAY,GAAGT,GAAG,CAAC,EAAE,CAAC;;IAE5B;IACA;IACA,MAAMU,kBAAkB,GAAG,CAC1B;MACCC,KAAK,EAAE,kCAAkC;MACzCC,OAAO,EAAE,uCAAuC;MAChDC,MAAM,EAAE,CAAC,CAAC;IACX,CAAC,EACD;MACCF,KAAK,EAAE,sCAAsC;MAC7CC,OAAO,EAAE,2CAA2C;MACpDC,MAAM,EAAE,CAAC,CAAC;IACX,CAAC,EACD;MACCF,KAAK,EAAE,iCAAiC;MACxCC,OAAO,EAAE,sCAAsC;MAC/CC,MAAM,EAAE,CAAC,CAAC;IACX,CAAC,EACD;MACCF,KAAK,EAAE,qBAAqB;MAC5BC,OAAO,EAAE,qCAAqC;MAC9CC,MAAM,EAAE,CAAC,CAAC;IACX,CAAC,EACD;MACCF,KAAK,EAAE,+BAA+B;MACtCC,OAAO,EAAE,+CAA+C;MACxDC,MAAM,EAAE,CAAC,CAAC;IACX,CAAC,CACD;IAED,MAAMC,WAAW,GAAIC,KAAK,IAAK;MAC9B,IACCA,KAAK,CAACC,QAAQ,IACdD,KAAK,CAACC,QAAQ,CAACC,IAAI,IACnBF,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACF,KAAK,EACxB;QACDN,YAAY,CAACS,KAAK,CAACC,IAAI,CAACJ,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACF,KAAK,CAAC;MACnD,CAAC,MAAM;QACNN,YAAY,CAACS,KAAK,CAACC,IAAI,CAACJ,KAAK,CAACK,OAAO,CAAC;MACvC;IACD,CAAC;IAED,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI;QACH,MAAML,QAAQ,GAAG,MAAMV,KAAK,CAACgB,GAAG,CAAC,qBAAqB,CAAC;QAEvD,IAAIN,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE;UAC9B,MAAM;YAAEM,IAAI;YAAEC,KAAK;YAAEC,MAAM;YAAEC;UAAM,CAAC,GAAGV,QAAQ,CAACC,IAAI;UAEpD,IACCM,IAAI,IACJA,IAAI,CAACI,MAAM,GAAGpB,SAAS,CAACqB,eAAe,IACvCJ,KAAK,IACLC,MAAM,IACNC,KAAK,EACJ;YACDlB,mBAAmB,CAACU,KAAK,GAAG,IAAI;YAChCW,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;UACpB,CAAC,MAAM;YACNtB,mBAAmB,CAACU,KAAK,GAAG,KAAK;YACjCW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;UACrB;QACD;MACD,CAAC,CAAC,OAAOf,KAAK,EAAE;QACfD,WAAW,CAACC,KAAK,CAAC;MACnB;IACD,CAAC;IAEDd,SAAS,CAAC,MAAM;MACfoB,gBAAgB,CAAC,CAAC;IACnB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}