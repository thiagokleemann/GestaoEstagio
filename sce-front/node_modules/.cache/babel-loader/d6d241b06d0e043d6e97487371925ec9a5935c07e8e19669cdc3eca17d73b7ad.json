{"ast":null,"code":"import { createVNode as _createVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-0b05af4a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"sce-form vertical-align\"\n};\nconst _hoisted_2 = {\n  for: \"loginEmail\"\n};\nconst _hoisted_3 = {\n  for: \"loginPassword\"\n};\nconst _hoisted_4 = {\n  class: \"w-100 mt-3 btn btn-outline-success opacity-75\",\n  type: \"submit\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"d-flex justify-content-center\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"loader\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_6];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode($setup[\"RoundedBox\"], null, {\n    default: _withCtx(() => [_createVNode($setup[\"TheLogo\"]), _createElementVNode(\"form\", {\n      onSubmit: _withModifiers($setup.login, [\"prevent\"])\n    }, [_createElementVNode(\"div\", {\n      class: _normalizeClass([{\n        'z-1': !$setup.activeEmail && $setup.validEmail,\n        'z-2': !$setup.activeEmail && !$setup.validEmail,\n        'z-3': $setup.activeEmail\n      }, \"form-floating\"])\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      onFocus: _cache[0] || (_cache[0] = $event => $setup.activeEmail = true),\n      onBlur: _cache[1] || (_cache[1] = $event => $setup.activeEmail = false),\n      class: _normalizeClass([{\n        'is-invalid': !$setup.validEmail\n      }, \"form-control sce-form-top\"]),\n      type: \"email\",\n      id: \"loginEmail\",\n      name: \"loginEmail\",\n      placeholder: \"Email\",\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.email = $event)\n    }, null, 34 /* CLASS, NEED_HYDRATION */), [[_vModelText, $setup.email, void 0, {\n      trim: true\n    }]]), _createElementVNode(\"label\", _hoisted_2, _toDisplayString(_ctx.$t(\"label.email\")), 1 /* TEXT */)], 2 /* CLASS */), _createElementVNode(\"div\", {\n      class: _normalizeClass([{\n        'z-1': !$setup.activePassword && $setup.validPassword,\n        'z-2': !$setup.activePassword && !$setup.validPassword,\n        'z-3': $setup.activePassword\n      }, \"form-floating\"])\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      onFocus: _cache[3] || (_cache[3] = $event => $setup.activePassword = true),\n      onBlur: _cache[4] || (_cache[4] = $event => $setup.activePassword = false),\n      class: _normalizeClass([{\n        'is-invalid': !$setup.validPassword\n      }, \"form-control sce-form-bottom\"]),\n      type: \"password\",\n      id: \"loginPassword\",\n      name: \"loginPassword\",\n      placeholder: \"Password\",\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.password = $event)\n    }, null, 34 /* CLASS, NEED_HYDRATION */), [[_vModelText, $setup.password, void 0, {\n      trim: true\n    }]]), _createElementVNode(\"label\", _hoisted_3, _toDisplayString(_ctx.$t(\"label.password\")), 1 /* TEXT */)], 2 /* CLASS */), _createElementVNode(\"button\", _hoisted_4, _toDisplayString(_ctx.$t(\"button.login\")), 1 /* TEXT */), _createVNode($setup[\"TheAlert\"], {\n      messages: $setup.errorMessages\n    }, null, 8 /* PROPS */, [\"messages\"])], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  }), $setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [..._hoisted_7])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","for","type","key","_createElementVNode","_hoisted_6","_createElementBlock","_hoisted_1","_createVNode","$setup","default","_withCtx","onSubmit","_withModifiers","login","_normalizeClass","activeEmail","validEmail","onFocus","_cache","$event","onBlur","id","name","placeholder","email","trim","_hoisted_2","_toDisplayString","_ctx","$t","activePassword","validPassword","password","_hoisted_3","_hoisted_4","messages","errorMessages","_","isLoading","_hoisted_5","_hoisted_7","_createCommentVNode"],"sources":["C:\\Users\\THIAGO\\Documents\\Estágios\\sce-front\\src\\components\\admin\\AdminLogin.vue"],"sourcesContent":["<script setup>\r\n\timport { ref, computed } from \"vue\";\r\n\timport { useStore } from \"vuex\";\r\n\timport { useRouter } from \"vue-router\";\r\n\t//import { useI18n } from 'vue-i18n';\r\n\timport TheLogo from \"@/components/base/TheLogo.vue\";\r\n\timport RoundedBox from \"@/components/base/RoundedBox.vue\";\r\n\timport TheAlert from \"@/components/base/TheAlert.vue\";\r\n\timport { validateEmail } from \"@/misc/validation.js\";\r\n\timport constants from \"@/misc/constants.js\";\r\n\r\n\tconst store = useStore();\r\n\tconst router = useRouter();\r\n\t//const { t } = useI18n();\r\n\r\n\t// Dados para login\r\n\t// v-model dos campos do formulário\r\n\tconst email = ref(\"\");\r\n\tconst password = ref(\"\");\r\n\r\n\t// Flags de validação\r\n\tconst validEmail = ref(true);\r\n\tconst validPassword = ref(true);\r\n\r\n\t// Flags de campos ativos para setar o z-index\r\n\tconst activeEmail = ref(false);\r\n\tconst activePassword = ref(false);\r\n\r\n\t// Arrays de erros\r\n\tconst errorMessages = ref([]);\r\n\r\n\t// Usados para exibir o spinner\r\n\tconst isLoading = ref(false);\r\n\r\n\tconst isAdmin = computed(() => store.getters.isAdmin);\r\n\r\n\tconst handleError = (error) => {\r\n\t\tconst message = error.response?.data?.error || error.message;\r\n\t\terrorMessages.value.push(message);\r\n\t};\r\n\r\n\tconst login = async () => {\r\n\t\terrorMessages.value = [];\r\n\t\tvalidEmail.value = true;\r\n\t\tvalidPassword.value = true;\r\n\r\n\t\tif (!email.value || !validateEmail(email.value)) {\r\n\t\t\tvalidEmail.value = false;\r\n\t\t\terrorMessages.value.push(this.$t(\"error.email-formato\"));\r\n\t\t}\r\n\t\tif (\r\n\t\t\t!password.value ||\r\n\t\t\tpassword.value.length < constants.MIN_LENGTH_PASSWD\r\n\t\t) {\r\n\t\t\tvalidPassword.value = false;\r\n\t\t\terrorMessages.value.push(this.$t(\"error.password-tamanho\"));\r\n\t\t}\r\n\r\n\t\tif (errorMessages.value.length > 0) return;\r\n\r\n\t\tconst payload = {\r\n\t\t\temail: email.value,\r\n\t\t\tpassword: password.value,\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tisLoading.value = true;\r\n\t\t\tawait store.dispatch(\"loginAdmin\", payload);\r\n\r\n\t\t\tif (isAdmin.value) {\r\n\t\t\t\trouter.replace(\"/admin/coordenador/estagio\");\r\n\t\t\t} else {\r\n\t\t\t\terrorMessages.value.push(this.$t(\"error.nao-admin\"));\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tisLoading.value = false;\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"sce-form vertical-align\">\r\n\t\t<RoundedBox>\r\n\t\t\t<TheLogo />\r\n\r\n\t\t\t<form @submit.prevent=\"login\">\r\n\t\t\t\t<div\r\n\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t'z-1': !activeEmail && validEmail,\r\n\t\t\t\t\t\t'z-2': !activeEmail && !validEmail,\r\n\t\t\t\t\t\t'z-3': activeEmail,\r\n\t\t\t\t\t}\"\r\n\t\t\t\t\tclass=\"form-floating\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\t@focus=\"activeEmail = true\"\r\n\t\t\t\t\t\t@blur=\"activeEmail = false\"\r\n\t\t\t\t\t\t:class=\"{ 'is-invalid': !validEmail }\"\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tclass=\"form-control sce-form-top\"\r\n\t\t\t\t\t\tid=\"loginEmail\"\r\n\t\t\t\t\t\tname=\"loginEmail\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\tv-model.trim=\"email\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label for=\"loginEmail\">{{ $t(\"label.email\") }}</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t'z-1': !activePassword && validPassword,\r\n\t\t\t\t\t\t'z-2': !activePassword && !validPassword,\r\n\t\t\t\t\t\t'z-3': activePassword,\r\n\t\t\t\t\t}\"\r\n\t\t\t\t\tclass=\"form-floating\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\t@focus=\"activePassword = true\"\r\n\t\t\t\t\t\t@blur=\"activePassword = false\"\r\n\t\t\t\t\t\t:class=\"{ 'is-invalid': !validPassword }\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tclass=\"form-control sce-form-bottom\"\r\n\t\t\t\t\t\tid=\"loginPassword\"\r\n\t\t\t\t\t\tname=\"loginPassword\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tv-model.trim=\"password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label for=\"loginPassword\">{{\r\n\t\t\t\t\t\t$t(\"label.password\")\r\n\t\t\t\t\t}}</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"w-100 mt-3 btn btn-outline-success opacity-75\"\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{ $t(\"button.login\") }}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<TheAlert :messages=\"errorMessages\"></TheAlert>\r\n\t\t\t</form>\r\n\t\t</RoundedBox>\r\n\t\t<div\r\n\t\t\tv-if=\"isLoading\"\r\n\t\t\tclass=\"d-flex justify-content-center\"\r\n\t\t>\r\n\t\t\t<span class=\"loader\"></span>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped>\r\n\thtml,\r\n\tbody {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\tbody {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding-top: 40px;\r\n\t\tpadding-bottom: 40px;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.vertical-align {\r\n\t\tmargin-top: 200px;\r\n\t}\r\n\r\n\t.loader {\r\n\t\twidth: 96%;\r\n\t\theight: 7px;\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t\tbackground: transparent;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.loader::after {\r\n\t\tcontent: \"\";\r\n\t\twidth: 96px;\r\n\t\theight: 7px;\r\n\t\tbackground: #0d12a9;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbox-sizing: border-box;\r\n\t\tanimation: animloader 1s linear infinite;\r\n\t}\r\n\r\n\t@keyframes animloader {\r\n\t\t0% {\r\n\t\t\tleft: 0;\r\n\t\t\ttransform: translateX(-100%);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tleft: 100%;\r\n\t\t\ttransform: translateX(0%);\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"mappings":";;;EAmFMA,KAAK,EAAC;AAAyB;;EAwBzBC,GAAG,EAAC;AAAY;;EAsBhBA,GAAG,EAAC;AAAe;;EAM1BD,KAAK,EAAC,+CAA+C;EACrDE,IAAI,EAAC;;;EAxIVC,GAAA;EAkJGH,KAAK,EAAC;;gEAENI,mBAAA,CAA4B;EAAtBJ,KAAK,EAAC;AAAQ;oBAApBK,UAA4B,C;;uBAjE9BC,mBAAA,CAmEM,OAnENC,UAmEM,GAlELC,YAAA,CA2DaC,MAAA;IA/IfC,OAAA,EAAAC,QAAA,CAqFG,MAAW,CAAXH,YAAA,CAAWC,MAAA,cAEXL,mBAAA,CAuDO;MAvDAQ,QAAM,EAvFhBC,cAAA,CAuF0BJ,MAAA,CAAAK,KAAK;QAC3BV,mBAAA,CAoBM;MAnBJJ,KAAK,EAzFXe,eAAA;gBAyF8BN,MAAA,CAAAO,WAAW,IAAIP,MAAA,CAAAQ,UAAU;gBAAiBR,MAAA,CAAAO,WAAW,KAAKP,MAAA,CAAAQ,UAAU;eAAgBR,MAAA,CAAAO;SAKvG,eAAe;wBAErBZ,mBAAA,CAUE;MATAc,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEX,MAAA,CAAAO,WAAW;MAClBK,MAAI,EAAAF,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEX,MAAA,CAAAO,WAAW;MACjBhB,KAAK,EAnGZe,eAAA;QAAA,eAmG+BN,MAAA,CAAAQ;MAAU,GAE7B,2BAA2B;MADjCf,IAAI,EAAC,OAAO;MAEZoB,EAAE,EAAC,YAAY;MACfC,IAAI,EAAC,YAAY;MACjBC,WAAW,EAAC,OAAO;MAxGzB,uBAAAL,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAyGoBX,MAAA,CAAAgB,KAAK,GAAAL,MAAA;6DAALX,MAAA,CAAAgB,KAAK,E;MAzGzBC,IAAA,EAyGM;IAAoB,E,IAErBtB,mBAAA,CAAuD,SAAvDuB,UAAuD,EAAAC,gBAAA,CAA5BC,IAAA,CAAAC,EAAE,gC,kBAG9B1B,mBAAA,CAsBM;MArBJJ,KAAK,EA/GXe,eAAA;gBA+G8BN,MAAA,CAAAsB,cAAc,IAAItB,MAAA,CAAAuB,aAAa;gBAAiBvB,MAAA,CAAAsB,cAAc,KAAKtB,MAAA,CAAAuB,aAAa;eAAgBvB,MAAA,CAAAsB;SAKnH,eAAe;wBAErB3B,mBAAA,CAUE;MATAc,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEX,MAAA,CAAAsB,cAAc;MACrBV,MAAI,EAAAF,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEX,MAAA,CAAAsB,cAAc;MACpB/B,KAAK,EAzHZe,eAAA;QAAA,eAyH+BN,MAAA,CAAAuB;MAAa,GAEhC,8BAA8B;MADpC9B,IAAI,EAAC,UAAU;MAEfoB,EAAE,EAAC,eAAe;MAClBC,IAAI,EAAC,eAAe;MACpBC,WAAW,EAAC,UAAU;MA9H5B,uBAAAL,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA+HoBX,MAAA,CAAAwB,QAAQ,GAAAb,MAAA;6DAARX,MAAA,CAAAwB,QAAQ,E;MA/H5BP,IAAA,EA+HM;IAAuB,E,IAExBtB,mBAAA,CAEU,SAFV8B,UAEU,EAAAN,gBAAA,CADTC,IAAA,CAAAC,EAAE,mC,kBAIJ1B,mBAAA,CAKS,UALT+B,UAKS,EAAAP,gBAAA,CADLC,IAAA,CAAAC,EAAE,kCAGNtB,YAAA,CAA+CC,MAAA;MAApC2B,QAAQ,EAAE3B,MAAA,CAAA4B;IAAa,sC;IA7ItCC,CAAA;MAiJS7B,MAAA,CAAA8B,SAAS,I,cADhBjC,mBAAA,CAKM,OALNkC,UAKM,EArJR,IAAAC,UAAA,MAAAC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}