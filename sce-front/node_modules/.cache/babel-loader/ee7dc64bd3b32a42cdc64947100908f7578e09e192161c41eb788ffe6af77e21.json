{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, normalizeClass as _normalizeClass, withDirectives as _withDirectives, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"text-center\"\n};\nconst _hoisted_3 = {\n  class: \"sce-form\"\n};\nconst _hoisted_4 = {\n  value: \"0\"\n};\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = {\n  for: \"tipoUsuario\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"d-flex justify-content-center mt-5\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"spinner-border\",\n  role: \"status\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"sr-only\"\n})], -1 /* HOISTED */);\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  key: 1,\n  class: \"text-center mt-5\"\n};\nconst _hoisted_11 = {\n  key: 2,\n  class: \"table table-sm table-hover mt-5\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"#\", -1 /* HOISTED */);\nconst _hoisted_13 = {\n  scope: \"col\"\n};\nconst _hoisted_14 = {\n  scope: \"col\"\n};\nconst _hoisted_15 = {\n  scope: \"col\"\n};\nconst _hoisted_16 = {\n  scope: \"row\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CoordenadorEstagioNavigation = _resolveComponent(\"CoordenadorEstagioNavigation\");\n  const _component_TheAlert = _resolveComponent(\"TheAlert\");\n  const _component_RoundedBox = _resolveComponent(\"RoundedBox\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_CoordenadorEstagioNavigation), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_RoundedBox, null, {\n    default: _withCtx(() => [_createElementVNode(\"h3\", _hoisted_2, _toDisplayString(_ctx.$t('header.coordenador.estagio.usuario')), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n      onSubmit: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [_createElementVNode(\"div\", {\n      class: _normalizeClass([{\n        'z-1': !$data.activeTipo && $data.validTipo,\n        'z-2': !$data.activeTipo && !$data.validTipo,\n        'z-3': $data.activeTipo\n      }, \"form-floating\"])\n    }, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.tipo = $event),\n      class: _normalizeClass([\"form-select sce-form-single\", {\n        'is-invalid': !$data.validTipo\n      }]),\n      onFocus: _cache[1] || (_cache[1] = $event => $data.activeTipo = true),\n      onBlur: _cache[2] || (_cache[2] = $event => $data.activeTipo = false),\n      id: \"tipoUsuario\",\n      name: \"tipoUsuario\",\n      onChange: _cache[3] || (_cache[3] = (...args) => $options.showUsuarios && $options.showUsuarios(...args))\n    }, [_createElementVNode(\"option\", _hoisted_4, _toDisplayString(_ctx.$t('label.todos')), 1 /* TEXT */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tipos, t => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: t.id,\n        value: t.id\n      }, _toDisplayString(t.descricao), 9 /* TEXT, PROPS */, _hoisted_5);\n    }), 128 /* KEYED_FRAGMENT */))], 34 /* CLASS, NEED_HYDRATION */), [[_vModelSelect, $data.tipo, void 0, {\n      trim: true\n    }]]), _createElementVNode(\"label\", _hoisted_6, _toDisplayString(_ctx.$t('label.tipo')), 1 /* TEXT */)], 2 /* CLASS */), _createVNode(_component_TheAlert, {\n      messages: $data.errorMessages\n    }, null, 8 /* PROPS */, [\"messages\"])], 32 /* NEED_HYDRATION */)]), $data.errorMessages.length == 0 && $data.isShowing ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [..._hoisted_9])) : _createCommentVNode(\"v-if\", true), $data.errorMessages.length == 0 && !$data.isShowing && $data.usuarios.length == 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_10, _toDisplayString(_ctx.$t('message.admin.sem-usuarios')), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.errorMessages.length == 0 && !$data.isShowing && $data.usuarios.length > 0 ? (_openBlock(), _createElementBlock(\"table\", _hoisted_11, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_12, _createElementVNode(\"th\", _hoisted_13, _toDisplayString(_ctx.$t('label.nome')), 1 /* TEXT */), _createElementVNode(\"th\", _hoisted_14, _toDisplayString(_ctx.$t('label.email')), 1 /* TEXT */), _createElementVNode(\"th\", _hoisted_15, _toDisplayString(_ctx.$t('label.tipo')), 1 /* TEXT */)])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.usuarios, u => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: u.id\n      }, [_createElementVNode(\"th\", _hoisted_16, _toDisplayString(u.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(u.nome), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(u.email), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.getDescricaoTipoUsuario(u.tipo)), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["class","value","for","key","_createElementVNode","role","_hoisted_8","scope","_createElementBlock","_createVNode","_component_CoordenadorEstagioNavigation","_hoisted_1","_component_RoundedBox","default","_withCtx","_hoisted_2","_toDisplayString","_ctx","$t","_hoisted_3","onSubmit","_cache","_withModifiers","_normalizeClass","$data","activeTipo","validTipo","$event","tipo","onFocus","onBlur","id","name","onChange","args","$options","showUsuarios","_hoisted_4","_Fragment","_renderList","tipos","t","descricao","_hoisted_5","trim","_hoisted_6","_component_TheAlert","messages","errorMessages","length","isShowing","_hoisted_7","_hoisted_9","_createCommentVNode","usuarios","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","u","_hoisted_16","nome","email","getDescricaoTipoUsuario","_"],"sources":["C:\\Users\\THIAGO\\Documents\\Estágios\\sce-front\\src\\components\\coordenador\\estagio\\CoordenadorEstagioUsuario.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <CoordenadorEstagioNavigation />\r\n\r\n    <div class=\"container\">\r\n\r\n      <RoundedBox>\r\n\r\n        <h3 class=\"text-center\">{{ $t('header.coordenador.estagio.usuario') }}</h3>\r\n\r\n        <div class=\"sce-form\">\r\n          <form @submit.prevent=\"\">\r\n\r\n            <div :class=\"{\r\n          'z-1': !activeTipo && validTipo,\r\n          'z-2': !activeTipo && !validTipo,\r\n          'z-3': activeTipo,\r\n        }\" class=\"form-floating\">\r\n              <select v-model.trim=\"tipo\" class=\"form-select sce-form-single\" @focus=\"activeTipo = true\"\r\n                @blur=\"activeTipo = false\" :class=\"{ 'is-invalid': !validTipo }\" id=\"tipoUsuario\" name=\"tipoUsuario\"\r\n                @change=\"showUsuarios\">\r\n                <option value=\"0\">{{ $t('label.todos') }}</option>\r\n                <option v-for=\"t in tipos\" :key=\"t.id\" :value=\"t.id\">{{ t.descricao }}</option>\r\n              </select>\r\n              <label for=\"tipoUsuario\">{{ $t('label.tipo') }}</label>\r\n            </div>\r\n\r\n            <TheAlert :messages=\"errorMessages\"></TheAlert>\r\n\r\n          </form>\r\n        </div>\r\n\r\n        <div v-if=\"errorMessages.length == 0 && isShowing\" class=\"d-flex justify-content-center mt-5\">\r\n          <div class=\"spinner-border\" role=\"status\">\r\n            <span class=\"sr-only\"></span>\r\n          </div>\r\n        </div>\r\n\r\n        <p v-if=\"errorMessages.length == 0 && !isShowing && usuarios.length == 0\" class=\"text-center mt-5\">\r\n          {{ $t('message.admin.sem-usuarios') }}\r\n        </p>\r\n\r\n        <table class=\"table table-sm table-hover mt-5\"\r\n          v-if=\"errorMessages.length == 0 && !isShowing && usuarios.length > 0\">\r\n\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">{{ $t('label.nome') }}</th>\r\n              <th scope=\"col\">{{ $t('label.email') }}</th>\r\n              <th scope=\"col\">{{ $t('label.tipo') }}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"u in usuarios\" :key=\"u.id\">\r\n              <th scope=\"row\">{{ u.id }}</th>\r\n              <td>{{ u.nome }}</td>\r\n              <td>{{ u.email }}</td>\r\n              <td>{{ getDescricaoTipoUsuario(u.tipo) }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </RoundedBox>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport CoordenadorEstagioNavigation from '@/components/coordenador/estagio/CoordenadorEstagioNavigation.vue';\r\nimport RoundedBox from '@/components/base/RoundedBox.vue';\r\nimport TheAlert from '@/components/base/TheAlert.vue';\r\nimport axios from \"@/misc/axios.js\";\r\n\r\nexport default {\r\n  components: {\r\n    CoordenadorEstagioNavigation,\r\n    RoundedBox,\r\n    TheAlert,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      // v-model dos campos do formulário\r\n      tipo: 0,\r\n\r\n      // Flags de validação\r\n      validTipo: true,\r\n\r\n      // Flags de campos ativos para setar o z-index\r\n      activeTipo: false,\r\n\r\n      // Tipos de usuário e Campi do SELECT do formulário\r\n      tipos: [],\r\n\r\n      // Dados da tabela\r\n      usuarios: [],\r\n\r\n      // Usados para exibir o spinner\r\n      isShowing: false,\r\n\r\n      // Arrays de erros\r\n      errorMessages: [],\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    async loadTipos() {\r\n      try {\r\n        this.tipos = [];\r\n        this.errorMessages = [];\r\n        let response = null;\r\n\r\n        response = await axios.get(\"/tipos/index\");\r\n\r\n        if (response.data)\r\n          this.tipos = response.data;\r\n\r\n      } catch (error) {\r\n        this.handleError(error);\r\n      }\r\n    },\r\n\r\n    getDescricaoTipoUsuario(id) {\r\n      let tiposList = this.tipos;\r\n      let tipo = tiposList.find(t => t.id == id);\r\n      return tipo ? tipo.descricao : '';\r\n    },\r\n\r\n    async showUsuarios() {\r\n      try {\r\n        this.isShowing = true;\r\n        this.usuarios = [];\r\n        this.errorMessages = [];\r\n        let response = null;\r\n\r\n        const tipo = Number(this.tipo);\r\n        const campus = Number(this.$store.getters.campus);\r\n\r\n        const payload = {\r\n          campus,\r\n          tipo,\r\n        };\r\n\r\n        response = await axios.get(\"/coordenador/estagio/usuarios\", {\r\n          params: payload\r\n        });\r\n\r\n        if (response.data)\r\n          this.usuarios = response.data;\r\n\r\n      } catch (error) {\r\n        this.handleError(error);\r\n      } finally {\r\n        this.isShowing = false;\r\n      }\r\n    },\r\n\r\n    handleError(error) {\r\n      if (error.response && error.response.data && error.response.data.error)\r\n        this.errorMessages.push(error.response.data.error);\r\n      else\r\n        this.errorMessages.push(error.message);\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.loadTipos();\r\n    this.showUsuarios();\r\n  },\r\n\r\n}\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}