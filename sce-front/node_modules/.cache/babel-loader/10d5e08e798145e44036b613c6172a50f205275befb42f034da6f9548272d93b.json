{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from \"vue\";\nimport AlunoNavigation from \"@/components/aluno/AlunoNavigation.vue\";\nimport RoundedBox from \"@/components/base/RoundedBox.vue\";\nimport Accordion from \"@/components/UI/AccordionCore.vue\";\nimport axios from \"@/misc/axios.js\";\nimport constants from \"@/misc/constants.js\";\nexport default {\n  __name: 'AlunoDocumentos',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const completePreferences = ref(true);\n    const errorMessage = ref([]);\n    const documentosAcordeao = [{\n      title: \"Carta de Apresentação de Estágio\",\n      content: \"Carta\"\n    }, {\n      title: \"Confirmação de Orientação de Estágio\",\n      content: \"Confirmação\"\n    }, {\n      title: \"Ficha de confirmação de estágio\",\n      content: \"Ficha\"\n    }, {\n      title: \"Plano de Atividades\",\n      content: \"Plano\"\n    }, {\n      title: \"Autorização de Uso de Imagens\",\n      content: \"Autorização\"\n    }];\n    const handleError = error => {\n      if (error.response && error.response.data && error.response.data.error) {\n        errorMessage.value.push(error.response.data.error);\n      } else {\n        errorMessage.value.push(error.message);\n      }\n    };\n    const checkPreferences = async () => {\n      try {\n        const response = await axios.get(\"/aluno/preferencias\");\n        if (response && response.data) {\n          const {\n            nome,\n            email,\n            campus,\n            curso\n          } = response.data;\n          if (nome && nome.length > constants.MIN_LENGTH_NOME && email && campus && curso) {\n            completePreferences.value = true;\n            console.log(\"true\");\n          } else {\n            completePreferences.value = false;\n            console.log(\"false\");\n          }\n        }\n      } catch (error) {\n        handleError(error);\n      }\n    };\n    onMounted(() => {\n      checkPreferences();\n    });\n    const __returned__ = {\n      completePreferences,\n      errorMessage,\n      documentosAcordeao,\n      handleError,\n      checkPreferences,\n      ref,\n      onMounted,\n      AlunoNavigation,\n      RoundedBox,\n      Accordion,\n      get axios() {\n        return axios;\n      },\n      get constants() {\n        return constants;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","AlunoNavigation","RoundedBox","Accordion","axios","constants","completePreferences","errorMessage","documentosAcordeao","title","content","handleError","error","response","data","value","push","message","checkPreferences","get","nome","email","campus","curso","length","MIN_LENGTH_NOME","console","log"],"sources":["C:/Users/THIAGO/Documents/Estágios/sce-front/src/components/aluno/AlunoDocumentos.vue"],"sourcesContent":["<script setup>\r\n\timport { ref, onMounted } from \"vue\";\r\n\timport AlunoNavigation from \"@/components/aluno/AlunoNavigation.vue\";\r\n\timport RoundedBox from \"@/components/base/RoundedBox.vue\";\r\n\timport Accordion from \"@/components/UI/AccordionCore.vue\";\r\n\timport axios from \"@/misc/axios.js\";\r\n\timport constants from \"@/misc/constants.js\";\r\n\r\n\tconst completePreferences = ref(true);\r\n\tconst errorMessage = ref([]);\r\n\tconst documentosAcordeao = [\r\n\t\t{ title: \"Carta de Apresentação de Estágio\", content: \"Carta\" },\r\n\t\t{\r\n\t\t\ttitle: \"Confirmação de Orientação de Estágio\",\r\n\t\t\tcontent: \"Confirmação\",\r\n\t\t},\r\n\t\t{ title: \"Ficha de confirmação de estágio\", content: \"Ficha\" },\r\n\t\t{ title: \"Plano de Atividades\", content: \"Plano\" },\r\n\t\t{ title: \"Autorização de Uso de Imagens\", content: \"Autorização\" },\r\n\t];\r\n\r\n\tconst handleError = (error) => {\r\n\t\tif (\r\n\t\t\terror.response &&\r\n\t\t\terror.response.data &&\r\n\t\t\terror.response.data.error\r\n\t\t) {\r\n\t\t\terrorMessage.value.push(error.response.data.error);\r\n\t\t} else {\r\n\t\t\terrorMessage.value.push(error.message);\r\n\t\t}\r\n\t};\r\n\r\n\tconst checkPreferences = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\"/aluno/preferencias\");\r\n\r\n\t\t\tif (response && response.data) {\r\n\t\t\t\tconst { nome, email, campus, curso } = response.data;\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tnome &&\r\n\t\t\t\t\tnome.length > constants.MIN_LENGTH_NOME &&\r\n\t\t\t\t\temail &&\r\n\t\t\t\t\tcampus &&\r\n\t\t\t\t\tcurso\r\n\t\t\t\t) {\r\n\t\t\t\t\tcompletePreferences.value = true;\r\n\t\t\t\t\tconsole.log(\"true\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcompletePreferences.value = false;\r\n\t\t\t\t\tconsole.log(\"false\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tonMounted(() => {\r\n\t\tcheckPreferences();\r\n\t});\r\n</script>\r\n\r\n<template>\r\n\t<div>\r\n\t\t<AlunoNavigation />\r\n\r\n\t\t<div class=\"container\">\r\n\t\t\t<RoundedBox>\r\n\t\t\t\t<h3 class=\"text-center\">{{ $t(\"header.aluno.documentos\") }}</h3>\r\n\r\n\t\t\t\t<h5 class=\"text-center mt-5\">\r\n\t\t\t\t\t<span v-if=\"completePreferences\">\r\n\t\t\t\t\t\t<Accordion :items=\"documentosAcordeao\" />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span v-else>Incomplete</span>\r\n\t\t\t\t</h5>\r\n\t\t\t\t<TheAlert :messages=\"errorMessage\"></TheAlert>\r\n\t\t\t</RoundedBox>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n"],"mappings":";AACC,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,eAAe,MAAM,wCAAwC;AACpE,OAAOC,UAAU,MAAM,kCAAkC;AACzD,OAAOC,SAAS,MAAM,mCAAmC;AACzD,OAAOC,KAAK,MAAM,iBAAiB;AACnC,OAAOC,SAAS,MAAM,qBAAqB;;;;;;;IAE3C,MAAMC,mBAAmB,GAAGP,GAAG,CAAC,IAAI,CAAC;IACrC,MAAMQ,YAAY,GAAGR,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMS,kBAAkB,GAAG,CAC1B;MAAEC,KAAK,EAAE,kCAAkC;MAAEC,OAAO,EAAE;IAAQ,CAAC,EAC/D;MACCD,KAAK,EAAE,sCAAsC;MAC7CC,OAAO,EAAE;IACV,CAAC,EACD;MAAED,KAAK,EAAE,iCAAiC;MAAEC,OAAO,EAAE;IAAQ,CAAC,EAC9D;MAAED,KAAK,EAAE,qBAAqB;MAAEC,OAAO,EAAE;IAAQ,CAAC,EAClD;MAAED,KAAK,EAAE,+BAA+B;MAAEC,OAAO,EAAE;IAAc,CAAC,CAClE;IAED,MAAMC,WAAW,GAAIC,KAAK,IAAK;MAC9B,IACCA,KAAK,CAACC,QAAQ,IACdD,KAAK,CAACC,QAAQ,CAACC,IAAI,IACnBF,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACF,KAAK,EACxB;QACDL,YAAY,CAACQ,KAAK,CAACC,IAAI,CAACJ,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACF,KAAK,CAAC;MACnD,CAAC,MAAM;QACNL,YAAY,CAACQ,KAAK,CAACC,IAAI,CAACJ,KAAK,CAACK,OAAO,CAAC;MACvC;IACD,CAAC;IAED,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI;QACH,MAAML,QAAQ,GAAG,MAAMT,KAAK,CAACe,GAAG,CAAC,qBAAqB,CAAC;QAEvD,IAAIN,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE;UAC9B,MAAM;YAAEM,IAAI;YAAEC,KAAK;YAAEC,MAAM;YAAEC;UAAM,CAAC,GAAGV,QAAQ,CAACC,IAAI;UAEpD,IACCM,IAAI,IACJA,IAAI,CAACI,MAAM,GAAGnB,SAAS,CAACoB,eAAe,IACvCJ,KAAK,IACLC,MAAM,IACNC,KAAK,EACJ;YACDjB,mBAAmB,CAACS,KAAK,GAAG,IAAI;YAChCW,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;UACpB,CAAC,MAAM;YACNrB,mBAAmB,CAACS,KAAK,GAAG,KAAK;YACjCW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;UACrB;QACD;MACD,CAAC,CAAC,OAAOf,KAAK,EAAE;QACfD,WAAW,CAACC,KAAK,CAAC;MACnB;IACD,CAAC;IAEDZ,SAAS,CAAC,MAAM;MACfkB,gBAAgB,CAAC,CAAC;IACnB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}